{"version":3,"sources":["../src/ReactSixteenThreeAdapter.js"],"names":["HostRoot","ClassComponent","FragmentType","FunctionalComponent","HostPortal","HostComponent","HostText","Mode","ContextConsumerType","ContextProviderType","ForwardRefType","nodeAndSiblingsArray","nodeWithSibling","array","node","push","sibling","flatten","arr","result","stack","i","length","n","pop","el","Array","isArray","nodeTypeFromType","type","Portal","elementToTree","children","containerInfo","props","nodeType","key","ref","instance","rendered","toTree","vnode","tag","childrenToTree","child","stateNode","memoizedProps","renderedNodes","map","pendingProps","Error","nodeToHostNode","_node","mapper","item","ReactDOM","findDOMNode","getProviderDefaultValue","Provider","_context","_defaultValue","makeFakeElement","$$typeof","Element","eventOptions","animation","ReactSixteenThreeAdapter","lifecycles","options","enableComponentDidUpdateOnSetState","legacyContextMode","componentDidUpdate","onSetState","getDerivedStateFromProps","hasShouldComponentUpdateBug","getSnapshotBeforeUpdate","setState","skipsComponentDidUpdateOnNullish","getChildContext","calledByRenderer","attachTo","hydrateIn","wrappingComponentProps","domNode","global","document","createElement","adapter","render","context","callback","wrapperProps","Component","refProp","ReactWrapperComponent","wrappedEl","React","hydrate","setChildProps","unmount","unmountComponentAtNode","getNode","isCustomComponent","_reactInternalFiber","simulateError","nodeHierarchy","rootNode","error","find","x","componentDidCatch","catchingInstance","displayNameOfNode","simulateEvent","event","mock","mappedEvent","eventFn","TestUtils","Simulate","TypeError","batchedUpdates","fn","getWrappingComponentRenderer","inst","getMountWrapperInstance","renderer","ShallowRenderer","isDOM","cachedNode","providerValues","Map","set","value","MockProvider","getProviderFromConsumer","has","get","MockConsumer","isStateful","prototype","isReactComponent","__reactAutoBindPairs","output","getRenderOutput","_instance","concat","args","handler","checkPropTypes","typeSpecs","values","location","hierarchy","contextTypes","childContextTypes","ContextWrapper","ReactDOMServer","renderToStaticMarkup","mode","EnzymeAdapter","MODES","MOUNT","createMountRenderer","SHALLOW","createShallowRenderer","STRING","createStringRenderer","element","supportsArray","nodes","AsyncMode","NaN","Fragment","StrictMode","$$typeofType","ContextConsumer","ContextProvider","ForwardRef","displayName","name","object","fragment","fakeElement","isValidElement","Consumer","RootFinder","module","exports"],"mappings":"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","sourcesContent":["/* eslint no-use-before-define: 0 */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n// eslint-disable-next-line import/no-unresolved\nimport ReactDOMServer from 'react-dom/server';\n// eslint-disable-next-line import/no-unresolved\nimport ShallowRenderer from 'react-test-renderer/shallow';\n// eslint-disable-next-line import/no-unresolved\nimport TestUtils from 'react-dom/test-utils';\nimport checkPropTypes from 'prop-types/checkPropTypes';\nimport {\n  AsyncMode,\n  ContextConsumer,\n  ContextProvider,\n  Element,\n  ForwardRef,\n  Fragment,\n  isContextConsumer,\n  isContextProvider,\n  isElement,\n  isForwardRef,\n  isPortal,\n  isValidElementType,\n  Portal,\n  StrictMode,\n} from 'react-is';\nimport { EnzymeAdapter } from 'enzyme';\nimport { typeOfNode } from 'enzyme/build/Utils';\nimport {\n  displayNameOfNode,\n  elementToTree as utilElementToTree,\n  nodeTypeFromType as utilNodeTypeFromType,\n  mapNativeEventNames,\n  propFromEvent,\n  assertDomAvailable,\n  withSetStateAllowed,\n  createRenderWrapper,\n  createMountWrapper,\n  propsWithKeysAndRef,\n  ensureKeyOrUndefined,\n  simulateError,\n  wrap,\n  getComponentStack,\n  RootFinder,\n  getNodeFromRootFinder,\n  wrapWithWrappingComponent,\n  getWrappingComponentMountRenderer,\n} from 'enzyme-adapter-utils';\nimport { findCurrentFiberUsingSlowPath } from 'react-reconciler/reflection';\n\nconst HostRoot = 3;\nconst ClassComponent = 2;\nconst FragmentType = 10;\nconst FunctionalComponent = 1;\nconst HostPortal = 4;\nconst HostComponent = 5;\nconst HostText = 6;\nconst Mode = 11;\nconst ContextConsumerType = 12;\nconst ContextProviderType = 13;\nconst ForwardRefType = 14;\n\nfunction nodeAndSiblingsArray(nodeWithSibling) {\n  const array = [];\n  let node = nodeWithSibling;\n  while (node != null) {\n    array.push(node);\n    node = node.sibling;\n  }\n  return array;\n}\n\nfunction flatten(arr) {\n  const result = [];\n  const stack = [{ i: 0, array: arr }];\n  while (stack.length) {\n    const n = stack.pop();\n    while (n.i < n.array.length) {\n      const el = n.array[n.i];\n      n.i += 1;\n      if (Array.isArray(el)) {\n        stack.push(n);\n        stack.push({ i: 0, array: el });\n        break;\n      }\n      result.push(el);\n    }\n  }\n  return result;\n}\n\nfunction nodeTypeFromType(type) {\n  if (type === Portal) {\n    return 'portal';\n  }\n\n  return utilNodeTypeFromType(type);\n}\n\nfunction elementToTree(el) {\n  if (!isPortal(el)) {\n    return utilElementToTree(el, elementToTree);\n  }\n\n  const { children, containerInfo } = el;\n  const props = { children, containerInfo };\n\n  return {\n    nodeType: 'portal',\n    type: Portal,\n    props,\n    key: ensureKeyOrUndefined(el.key),\n    ref: el.ref || null,\n    instance: null,\n    rendered: elementToTree(el.children),\n  };\n}\n\nfunction toTree(vnode) {\n  if (vnode == null) {\n    return null;\n  }\n  // TODO(lmr): I'm not really sure I understand whether or not this is what\n  // i should be doing, or if this is a hack for something i'm doing wrong\n  // somewhere else. Should talk to sebastian about this perhaps\n  const node = findCurrentFiberUsingSlowPath(vnode);\n  switch (node.tag) {\n    case HostRoot: // 3\n      return childrenToTree(node.child);\n    case HostPortal: { // 4\n      const {\n        stateNode: { containerInfo },\n        memoizedProps: children,\n      } = node;\n      const props = { containerInfo, children };\n      return {\n        nodeType: 'portal',\n        type: Portal,\n        props,\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: null,\n        rendered: childrenToTree(node.child),\n      };\n    }\n    case ClassComponent:\n      return {\n        nodeType: 'class',\n        type: node.type,\n        props: { ...node.memoizedProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: node.stateNode,\n        rendered: childrenToTree(node.child),\n      };\n    case FunctionalComponent: // 1\n      return {\n        nodeType: 'function',\n        type: node.type,\n        props: { ...node.memoizedProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: null,\n        rendered: childrenToTree(node.child),\n      };\n    case HostComponent: { // 5\n      let renderedNodes = flatten(nodeAndSiblingsArray(node.child).map(toTree));\n      if (renderedNodes.length === 0) {\n        renderedNodes = [node.memoizedProps.children];\n      }\n      return {\n        nodeType: 'host',\n        type: node.type,\n        props: { ...node.memoizedProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: node.stateNode,\n        rendered: renderedNodes,\n      };\n    }\n    case HostText: // 6\n      return node.memoizedProps;\n    case FragmentType: // 10\n    case Mode: // 11\n    case ContextProviderType: // 13\n    case ContextConsumerType: // 12\n      return childrenToTree(node.child);\n    case ForwardRefType: {\n      return {\n        nodeType: 'function',\n        type: node.type,\n        props: { ...node.pendingProps },\n        key: ensureKeyOrUndefined(node.key),\n        ref: node.ref,\n        instance: null,\n        rendered: childrenToTree(node.child),\n      };\n    }\n    default:\n      throw new Error(`Enzyme Internal Error: unknown node with tag ${node.tag}`);\n  }\n}\n\nfunction childrenToTree(node) {\n  if (!node) {\n    return null;\n  }\n  const children = nodeAndSiblingsArray(node);\n  if (children.length === 0) {\n    return null;\n  }\n  if (children.length === 1) {\n    return toTree(children[0]);\n  }\n  return flatten(children.map(toTree));\n}\n\nfunction nodeToHostNode(_node) {\n  // NOTE(lmr): node could be a function component\n  // which wont have an instance prop, but we can get the\n  // host node associated with its return value at that point.\n  // Although this breaks down if the return value is an array,\n  // as is possible with React 16.\n  let node = _node;\n  while (node && !Array.isArray(node) && node.instance === null) {\n    node = node.rendered;\n  }\n  // if the SFC returned null effectively, there is no host node.\n  if (!node) {\n    return null;\n  }\n\n  const mapper = (item) => {\n    if (item && item.instance) return ReactDOM.findDOMNode(item.instance);\n    return null;\n  };\n  if (Array.isArray(node)) {\n    return node.map(mapper);\n  }\n  if (Array.isArray(node.rendered) && node.nodeType === 'class') {\n    return node.rendered.map(mapper);\n  }\n  return mapper(node);\n}\n\nfunction getProviderDefaultValue(Provider) {\n  // React stores references to the Provider's defaultValue differently across versions.\n  if ('_defaultValue' in Provider._context) {\n    return Provider._context._defaultValue;\n  }\n  throw new Error('Enzyme Internal Error: can’t figure out how to get Provider’s default value');\n}\n\nfunction makeFakeElement(type) {\n  return { $$typeof: Element, type };\n}\n\nconst eventOptions = { animation: true };\n\nclass ReactSixteenThreeAdapter extends EnzymeAdapter {\n  constructor() {\n    super();\n    const { lifecycles } = this.options;\n    this.options = {\n      ...this.options,\n      enableComponentDidUpdateOnSetState: true, // TODO: remove, semver-major\n      legacyContextMode: 'parent',\n      lifecycles: {\n        ...lifecycles,\n        componentDidUpdate: {\n          onSetState: true,\n        },\n        getDerivedStateFromProps: {\n          hasShouldComponentUpdateBug: true,\n        },\n        getSnapshotBeforeUpdate: true,\n        setState: {\n          skipsComponentDidUpdateOnNullish: true,\n        },\n        getChildContext: {\n          calledByRenderer: false,\n        },\n      },\n    };\n  }\n\n  createMountRenderer(options) {\n    assertDomAvailable('mount');\n    const { attachTo, hydrateIn, wrappingComponentProps } = options;\n    const domNode = hydrateIn || attachTo || global.document.createElement('div');\n    let instance = null;\n    const adapter = this;\n    return {\n      render(el, context, callback) {\n        if (instance === null) {\n          const { type, props, ref } = el;\n          const wrapperProps = {\n            Component: type,\n            props,\n            wrappingComponentProps,\n            context,\n            ...(ref && { refProp: ref }),\n          };\n          const ReactWrapperComponent = createMountWrapper(el, { ...options, adapter });\n          const wrappedEl = React.createElement(ReactWrapperComponent, wrapperProps);\n          instance = hydrateIn\n            ? ReactDOM.hydrate(wrappedEl, domNode)\n            : ReactDOM.render(wrappedEl, domNode);\n          if (typeof callback === 'function') {\n            callback();\n          }\n        } else {\n          instance.setChildProps(el.props, context, callback);\n        }\n      },\n      unmount() {\n        ReactDOM.unmountComponentAtNode(domNode);\n        instance = null;\n      },\n      getNode() {\n        if (!instance) {\n          return null;\n        }\n        return getNodeFromRootFinder(\n          adapter.isCustomComponent,\n          toTree(instance._reactInternalFiber),\n          options,\n        );\n      },\n      simulateError(nodeHierarchy, rootNode, error) {\n        const { instance: catchingInstance } = nodeHierarchy\n          .find((x) => x.instance && x.instance.componentDidCatch) || {};\n\n        simulateError(\n          error,\n          catchingInstance,\n          rootNode,\n          nodeHierarchy,\n          nodeTypeFromType,\n          adapter.displayNameOfNode,\n        );\n      },\n      simulateEvent(node, event, mock) {\n        const mappedEvent = mapNativeEventNames(event, eventOptions);\n        const eventFn = TestUtils.Simulate[mappedEvent];\n        if (!eventFn) {\n          throw new TypeError(`ReactWrapper::simulate() event '${event}' does not exist`);\n        }\n        // eslint-disable-next-line react/no-find-dom-node\n        eventFn(adapter.nodeToHostNode(node), mock);\n      },\n      batchedUpdates(fn) {\n        return fn();\n        // return ReactDOM.unstable_batchedUpdates(fn);\n      },\n      getWrappingComponentRenderer() {\n        return {\n          ...this,\n          ...getWrappingComponentMountRenderer({\n            toTree: (inst) => toTree(inst._reactInternalFiber),\n            getMountWrapperInstance: () => instance,\n          }),\n        };\n      },\n    };\n  }\n\n  createShallowRenderer(/* options */) {\n    const adapter = this;\n    const renderer = new ShallowRenderer();\n    let isDOM = false;\n    let cachedNode = null;\n    return {\n      render(el, context, {\n        providerValues = new Map(),\n      } = {}) {\n        cachedNode = el;\n        /* eslint consistent-return: 0 */\n        if (typeof el.type === 'string') {\n          isDOM = true;\n        } else if (isContextProvider(el)) {\n          providerValues.set(el.type, el.props.value);\n          const MockProvider = Object.assign(\n            (props) => props.children,\n            el.type,\n          );\n          return withSetStateAllowed(() => renderer.render({ ...el, type: MockProvider }));\n        } else if (isContextConsumer(el)) {\n          const Provider = adapter.getProviderFromConsumer(el.type);\n          const value = providerValues.has(Provider)\n            ? providerValues.get(Provider)\n            : getProviderDefaultValue(Provider);\n          const MockConsumer = Object.assign(\n            (props) => props.children(value),\n            el.type,\n          );\n          return withSetStateAllowed(() => renderer.render({ ...el, type: MockConsumer }));\n        } else {\n          isDOM = false;\n          const { type: Component } = el;\n\n          const isStateful = Component.prototype && (\n            Component.prototype.isReactComponent\n            || Array.isArray(Component.__reactAutoBindPairs) // fallback for createClass components\n          );\n\n          if (!isStateful && typeof Component === 'function') {\n            const wrappedEl = Object.assign(\n              (...args) => Component(...args), // eslint-disable-line new-cap\n              Component,\n            );\n            return withSetStateAllowed(() => renderer.render({ ...el, type: wrappedEl }, context));\n          }\n          return withSetStateAllowed(() => renderer.render(el, context));\n        }\n      },\n      unmount() {\n        renderer.unmount();\n      },\n      getNode() {\n        if (isDOM) {\n          return elementToTree(cachedNode);\n        }\n        const output = renderer.getRenderOutput();\n        return {\n          nodeType: nodeTypeFromType(cachedNode.type),\n          type: cachedNode.type,\n          props: cachedNode.props,\n          key: ensureKeyOrUndefined(cachedNode.key),\n          ref: cachedNode.ref,\n          instance: renderer._instance,\n          rendered: Array.isArray(output)\n            ? flatten(output).map((el) => elementToTree(el))\n            : elementToTree(output),\n        };\n      },\n      simulateError(nodeHierarchy, rootNode, error) {\n        simulateError(\n          error,\n          renderer._instance,\n          cachedNode,\n          nodeHierarchy.concat(cachedNode),\n          nodeTypeFromType,\n          adapter.displayNameOfNode,\n        );\n      },\n      simulateEvent(node, event, ...args) {\n        const handler = node.props[propFromEvent(event, eventOptions)];\n        if (handler) {\n          withSetStateAllowed(() => {\n            // TODO(lmr): create/use synthetic events\n            // TODO(lmr): emulate React's event propagation\n            // ReactDOM.unstable_batchedUpdates(() => {\n            handler(...args);\n            // });\n          });\n        }\n      },\n      batchedUpdates(fn) {\n        return fn();\n        // return ReactDOM.unstable_batchedUpdates(fn);\n      },\n      checkPropTypes(typeSpecs, values, location, hierarchy) {\n        return checkPropTypes(\n          typeSpecs,\n          values,\n          location,\n          displayNameOfNode(cachedNode),\n          () => getComponentStack(hierarchy.concat([cachedNode])),\n        );\n      },\n    };\n  }\n\n  createStringRenderer(options) {\n    return {\n      render(el, context) {\n        if (options.context && (el.type.contextTypes || options.childContextTypes)) {\n          const childContextTypes = {\n            ...(el.type.contextTypes || {}),\n            ...options.childContextTypes,\n          };\n          const ContextWrapper = createRenderWrapper(el, context, childContextTypes);\n          return ReactDOMServer.renderToStaticMarkup(React.createElement(ContextWrapper));\n        }\n        return ReactDOMServer.renderToStaticMarkup(el);\n      },\n    };\n  }\n\n  // Provided a bag of options, return an `EnzymeRenderer`. Some options can be implementation\n  // specific, like `attach` etc. for React, but not part of this interface explicitly.\n  // eslint-disable-next-line class-methods-use-this, no-unused-vars\n  createRenderer(options) {\n    switch (options.mode) {\n      case EnzymeAdapter.MODES.MOUNT: return this.createMountRenderer(options);\n      case EnzymeAdapter.MODES.SHALLOW: return this.createShallowRenderer(options);\n      case EnzymeAdapter.MODES.STRING: return this.createStringRenderer(options);\n      default:\n        throw new Error(`Enzyme Internal Error: Unrecognized mode: ${options.mode}`);\n    }\n  }\n\n  wrap(element) {\n    return wrap(element);\n  }\n\n  // converts an RSTNode to the corresponding JSX Pragma Element. This will be needed\n  // in order to implement the `Wrapper.mount()` and `Wrapper.shallow()` methods, but should\n  // be pretty straightforward for people to implement.\n  // eslint-disable-next-line class-methods-use-this, no-unused-vars\n  nodeToElement(node) {\n    if (!node || typeof node !== 'object') return null;\n    return React.createElement(node.type, propsWithKeysAndRef(node));\n  }\n\n  elementToNode(element) {\n    return elementToTree(element);\n  }\n\n  nodeToHostNode(node, supportsArray = false) {\n    const nodes = nodeToHostNode(node);\n    if (Array.isArray(nodes) && !supportsArray) {\n      return nodes[0];\n    }\n    return nodes;\n  }\n\n  displayNameOfNode(node) {\n    if (!node) return null;\n    const { type, $$typeof } = node;\n\n    const nodeType = type || $$typeof;\n\n    // newer node types may be undefined, so only test if the nodeType exists\n    if (nodeType) {\n      switch (nodeType) {\n        case AsyncMode || NaN: return 'AsyncMode';\n        case Fragment || NaN: return 'Fragment';\n        case StrictMode || NaN: return 'StrictMode';\n        case Portal || NaN: return 'Portal';\n        default:\n      }\n    }\n\n    const $$typeofType = type && type.$$typeof;\n\n    switch ($$typeofType) {\n      case ContextConsumer || NaN: return 'ContextConsumer';\n      case ContextProvider || NaN: return 'ContextProvider';\n      case ForwardRef || NaN: {\n        if (type.displayName) {\n          return type.displayName;\n        }\n        const name = displayNameOfNode({ type: type.render });\n        return name ? `ForwardRef(${name})` : 'ForwardRef';\n      }\n      default: return displayNameOfNode(node);\n    }\n  }\n\n  isValidElement(element) {\n    return isElement(element);\n  }\n\n  isValidElementType(object) {\n    return !!object && isValidElementType(object);\n  }\n\n  isFragment(fragment) {\n    return typeOfNode(fragment) === Fragment;\n  }\n\n  isCustomComponent(type) {\n    const fakeElement = makeFakeElement(type);\n    return !!type && (\n      typeof type === 'function'\n      || isForwardRef(fakeElement)\n      || isContextProvider(fakeElement)\n      || isContextConsumer(fakeElement)\n    );\n  }\n\n  isContextConsumer(type) {\n    return !!type && isContextConsumer(makeFakeElement(type));\n  }\n\n  isCustomComponentElement(inst) {\n    if (!inst || !this.isValidElement(inst)) {\n      return false;\n    }\n    return this.isCustomComponent(inst.type);\n  }\n\n  getProviderFromConsumer(Consumer) {\n    const { Provider } = Consumer || {};\n    if (Provider) {\n      return Provider;\n    }\n    throw new Error('Enzyme Internal Error: can’t figure out how to get Provider from Consumer');\n  }\n\n  createElement(...args) {\n    return React.createElement(...args);\n  }\n\n  wrapWithWrappingComponent(node, options) {\n    return {\n      RootFinder,\n      node: wrapWithWrappingComponent(React.createElement, node, options),\n    };\n  }\n}\n\nmodule.exports = ReactSixteenThreeAdapter;\n"],"file":"ReactSixteenThreeAdapter.js"}